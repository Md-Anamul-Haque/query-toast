{"version":3,"file":"query-toast.cjs.production.min.js","sources":["../src/controllers/catch.tsx","../src/controllers/then.tsx","../src/actions/delete.tsx","../src/actions/get.tsx","../src/actions/post.tsx","../src/actions/put.tsx","../src/index.tsx"],"sourcesContent":["import { AxiosError } from \"axios\";\nimport { cbProps } from \"../types/cbProps\";\nimport { conditionProps } from \"../types/conditionProps\";\n\ntype catchHandlerProps = {\n    cb?: cbProps;\n    reject: any;\n    err: AxiosError;\n    condition?: conditionProps;\n}\nconst catchHandler = ({\n    cb, reject, err, condition\n}: catchHandlerProps) => {\n    cb && cb({}, err)\n    return reject(condition?.catchError_message ? condition.catchError_message(err) : err?.message || 'error')\n}\n\nexport default catchHandler","import { AxiosResponse } from \"axios\";\nimport { cbProps } from \"../types/cbProps\";\nimport { conditionProps } from \"../types/conditionProps\";\n\ntype thenHandlerProps = {\n    condition?: conditionProps;\n    res: AxiosResponse;\n    cb?: cbProps;\n    resolve: any;\n    reject: any;\n}\nconst thenHandler = ({\n    condition,\n    res,\n    cb,\n    resolve,\n    reject,\n}: thenHandlerProps) => {\n    if (condition && condition?.data) {\n        if (condition?.data(res)) {\n            cb && cb(res, {})\n            return resolve(condition?.message ? condition.message(res) : \"success\")\n        } else {\n            cb && cb(res, {})\n            return reject(condition?.faildCondition_message ? condition.faildCondition_message(res) : condition?.message ? condition.message(res) : 'faield')\n        }\n    } else {\n        cb && cb(res, {})\n        return resolve('success')\n    }\n}\n\nexport default thenHandler\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Swal from 'sweetalert2';\nimport catchHandler from '../controllers/catch';\nimport thenHandler from '../controllers/then';\nimport { deleteRequestProps } from '../types/delete';\n\nexport const handleDelete = ({\n    url, alertMessage, cb, condition, config, loadingText\n}: deleteRequestProps) => {\n    Swal.fire({\n        title: alertMessage ? alertMessage : 'Are you sure you want to delete this item?',\n        icon: 'question',\n        backdrop: false,\n        allowOutsideClick: false,\n        showCancelButton: true,\n        confirmButtonText: \"Yes, I'm sure\",\n        cancelButtonText: 'No, cancel!',\n        confirmButtonColor: '#EE4B2B',\n        reverseButtons: true,\n        customClass: {\n            title: 'mb-4 text-gray-500 dark:text-gray-300 text-base',\n            popup: 'p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5',\n            confirmButton: 'mx-3 py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900',\n            cancelButton: 'mx-3 py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600'\n        },\n        buttonsStyling: false,\n    }).then((result: any) => {\n        if (result.isConfirmed) {\n            const resolveReactToast = new Promise((resolve, reject) => {\n                axios.delete(url, config)\n                    .then((res) => {\n                        return thenHandler({\n                            reject,\n                            res,\n                            resolve,\n                            cb,\n                            condition\n                        })\n                    })\n                    .catch((err) => {\n                        return catchHandler({\n                            err,\n                            reject,\n                            cb,\n                            condition\n                        })\n                    })\n            });\n            toast.promise(\n                resolveReactToast,\n                {\n                    pending: String(loadingText || \"Loading...\"),\n                    success: {\n                        render(props: any) {\n                            return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                        },\n                    },\n                    error: {\n                        render(props: any) {\n                            return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                        }\n                    }\n                }\n            )\n        }\n    })\n}\n\n","import axios from 'axios';\n// import { useContext } from 'react';\nimport { toast } from 'react-toastify';\n// import TRRContext, { TRRContextProps } from '../TRRContext';\nimport catchHandler from '../controllers/catch';\nimport thenHandler from '../controllers/then';\nimport { getRequestProps } from '../types/get';\n\nexport const handleGet = ({ url, cb, condition, config, loadingText }: getRequestProps) => {\n\n    const resolveReactToast = new Promise((resolve, reject) => {\n        axios.get(url, config)\n            .then((res) => {\n                return thenHandler({\n                    cb,\n                    condition,\n                    reject,\n                    res,\n                    resolve\n                })\n            })\n            .catch((err) => {\n                return catchHandler({\n                    err,\n                    reject,\n                    cb,\n                    condition\n                })\n            })\n    });\n    toast.promise(\n        resolveReactToast,\n        {\n            pending: String(loadingText || \"Loading...\"),\n            success: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                },\n            },\n            error: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                }\n            }\n        }\n    )\n}\n\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport catchHandler from '../controllers/catch';\nimport thenHandler from '../controllers/then';\nimport { postRequestProps } from '../types/post';\n\nexport const handlePost = ({\n    data,\n    url,\n    cb,\n    condition,\n    config,\n    loadingText\n}: postRequestProps) => {\n    const resolveReactToast = new Promise((resolve, reject) => {\n\n        axios.post(url, data, config)\n            .then((res) => {\n                return thenHandler({\n                    reject,\n                    res,\n                    resolve,\n                    cb,\n                    condition\n                })\n            })\n            .catch((err) => {\n                return catchHandler({\n                    err,\n                    reject,\n                    cb,\n                    condition\n                })\n            })\n    });\n    toast.promise(\n        resolveReactToast,\n        {\n            pending: String(loadingText || \"Loading...\"),\n            // success: 'success',\n            // error: 'error',\n            success: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                },\n            },\n            error: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                }\n            }\n        }\n    )\n}\n\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport catchHandler from '../controllers/catch';\nimport thenHandler from '../controllers/then';\nimport { putRequestProps } from '../types/put';\n\nexport const handlePut = ({\n    data,\n    url,\n    cb,\n    condition,\n    config,\n    loadingText\n}: putRequestProps) => {\n\n    const resolveReactToast = new Promise((resolve, reject) => {\n        axios.put(url, data, config)\n            .then((res) => {\n                return thenHandler({\n                    reject,\n                    res,\n                    resolve,\n                    cb,\n                    condition\n                })\n            })\n            .catch((err) => {\n                return catchHandler({\n                    err,\n                    reject,\n                    cb,\n                    condition\n                })\n            })\n    });\n    toast.promise(\n        resolveReactToast,\n        {\n            pending: String(loadingText || \"Loading...\"),\n            success: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                },\n            },\n            error: {\n                render(props: any) {\n                    return typeof props.data == 'string' ? props.data : JSON.stringify(props.data)\n                }\n            }\n        }\n    )\n}\n\n","export * from 'axios';\nimport axios from 'axios';\nimport React from 'react';\nimport { ToastContainer, ToastContainerProps } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { handleDelete } from \"./actions/delete\";\nimport { handleGet } from './actions/get';\nimport { handlePost } from './actions/post';\nimport { handlePut } from './actions/put';\n\nexport const QT = {\n  get: handleGet,\n  post: handlePost,\n  put: handlePut,\n  delete: handleDelete,\n}\nexport const GET = handleGet;\nexport const POST = handlePost;\nexport const PUT = handlePut;\nexport const DELETE = handleDelete;\n// ----------------------------------------------\n\n\nexport type QTContainerProps = ({ withCredentials, toastContainerProps }: {\n  withCredentials?: boolean | \"yes\" | \"no\" | undefined;\n  toastContainerProps?: ToastContainerProps;\n}) => JSX.Element;\n\n// --------------------------------------------------------------\n\nexport const QTContainer: QTContainerProps = ({ withCredentials, toastContainerProps }) => {\n  try {\n    axios.defaults.withCredentials = withCredentials ? withCredentials === 'yes' || withCredentials === true : false;\n  } catch (error) {\n\n  }\n  return (\n    <ToastContainer {...toastContainerProps} />\n  )\n}"],"names":["catchHandler","_ref","cb","reject","err","condition","catchError_message","message","thenHandler","res","resolve","data","faildCondition_message","handleDelete","url","config","loadingText","Swal","fire","title","alertMessage","icon","backdrop","allowOutsideClick","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","reverseButtons","customClass","popup","confirmButton","cancelButton","buttonsStyling","then","result","isConfirmed","resolveReactToast","Promise","axios","toast","promise","pending","String","success","render","props","JSON","stringify","error","handleGet","get","handlePost","post","handlePut","put","QT","delete","GET","POST","PUT","DELETE","withCredentials","toastContainerProps","defaults","React","ToastContainer"],"mappings":"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"}